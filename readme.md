# pg_dump_python

## Описание

`pg_dump_python` — это утилита для автоматизированного создания резервных копий баз данных PostgreSQL и их выгрузки в облачное хранилище S3. Программа перебирает все доступные базы данных, создает резервные копии и формирует их имена в удобном формате, что облегчает управление и поиск необходимых файлов.

Формат имени резервной копии:
<название базы данных>-<дата, время>-<тип резервной копии>.dump
Пример: `buh2_db-2024_09_19-DAILY.dump`

Поддерживаемые типы резервных копий:
- **DAILY** — ежедневные резервные копии, создаваемые каждый день.
- **MONTHLY** — ежемесячные резервные копии, создаваемые в первый день месяца.
- **YEARLY** — ежегодные резервные копии, создаваемые в первый день первого месяца.

Это позволяет легко управлять резервными копиями и удалять старые файлы, оставляя только редкие бэкапы.

## Установка

1. Клонируйте репозиторий:
>git clone https://github.com/dmitrymp3/pg_dump_python.git

2. Перейдите в папку проекта:
>cd pg_dump_python

3. Создайте виртуальное окружение (опционально):
>python3 -m venv venv

4. Установите зависимости:
>pip install -r requirements.txt


5. Переименуйте файл `config_sample.py` в `config.py` и заполните его необходимыми данными.

## Использование

Запустить программу можно вручную или настроить автоматическое выполнение с помощью `cron`.

Запуск вручную
>python main.py

Настройка cron

Чтобы настроить автоматический запуск программы, добавьте задачу в `crontab` (команда `crontab -e`):
>\* 4 * * * cd /home/pg_restore/pg_dump_python/ && venv/bin/python3 main.py
Эта команда будет запускать программу каждый день в 4 часа утра.

## Вклад

Если у вас есть предложения по улучшению или исправлению ошибок, пожалуйста, создайте `issue` или отправьте `pull request`.

## Лицензия

Этот проект лицензирован под MIT License. Смотрите файл [LICENSE](LICENSE) для подробностей.

## Контакты

Если у вас есть вопросы или предложения, не стесняйтесь обращаться:

- [Дмитрий](https://t.me/dmitrymp3)
- [Ваш профиль на GitHub](https://github.com/dmitrymp3)

---

Надеюсь, `pg_dump_python` станет полезным инструментом для вас и ваших проектов!